<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>SADSHA AI | Private Space Production</title>
    <style>
        :root { --gold: #FFD700; --bg: #000; }
        body { background: var(--bg); color: white; font-family: 'Segoe UI', sans-serif; margin: 0; padding: 20px; display: flex; flex-direction: column; align-items: center; }
        .container { width: 100%; max-width: 1400px; }
        
        /* Node Monitor */
        .node-monitor { background: #0a0a0a; padding: 15px; border: 1px solid #222; border-radius: 12px; margin-bottom: 20px; display: flex; justify-content: space-between; font-family: monospace; }
        .active-node { color: var(--gold); text-shadow: 0 0 10px var(--gold); }

        .input-group { display: flex; gap: 10px; margin-bottom: 30px; }
        #prompt-field { flex: 1; background: transparent; border: 1px solid #333; padding: 18px; color: white; border-radius: 10px; font-size: 16px; outline: none; }
        .btn-fire { background: var(--gold); color: black; border: none; padding: 0 45px; border-radius: 10px; font-weight: 900; cursor: pointer; }

        /* Multi-Space Viewports */
        .production-floor { display: flex; gap: 20px; height: 650px; }
        .frame { background: #050505; border: 1px solid #222; border-radius: 15px; overflow: hidden; position: relative; }
        .shorts { width: 380px; }
        .wide { flex: 1; }
        
        /* Using iFrame to bypass Token/API blocks */
        iframe { width: 100%; height: 100%; border: none; background: #000; }

        .narrative-strip { background: #0a0a0a; border: 1px solid #222; margin-top: 25px; padding: 30px; border-radius: 15px; text-align: center; }
        #script-out { font-size: 19px; color: #bbb; line-height: 1.6; font-style: italic; }
    </style>
</head>
<body>

    <div class="container">
        <div class="node-monitor">
            <span>NETWORK: HUGGINGFACE_SPACES_ROTATION</span>
            <span class="active-node" id="node-tag">NODE: READY</span>
        </div>

        <div class="input-group">
            <input type="text" id="prompt-field" placeholder="Enter production parameters for Space rotation...">
            <button class="btn-fire" onclick="rotateAndGenerate()">RUN PRODUCTION</button>
        </div>

        <div class="production-floor">
            <div class="frame shorts">
                <iframe id="space-shorts" src="about:blank"></iframe>
            </div>

            <div class="frame wide">
                <iframe id="space-wide" src="about:blank"></iframe>
            </div>
        </div>

        <div class="narrative-strip">
            <div id="script-out">Spaces are synchronized. Waiting for first execution...</div>
        </div>
    </div>

<script>
    // 9 HF Spaces for Rotation (Actual Public URLs)
    const spaces = [
        "https://black-forest-labs-flux-1-schnell.hf.space",
        "https://stabilityai-stable-diffusion-3-medium.hf.space",
        "https://kingnish-flux-1-schnell.hf.space",
        "https://multimodalart-flux-1-schnell.hf.space",
        "https://shazam-stable-diffusion-xl.hf.space",
        "https://google-imagen-3-fast.hf.space", // Note: Space names might vary slightly
        "https://segmind-segmind-vega.hf.space",
        "https://bytedance-sdxl-lightning.hf.space",
        "https://playgroundai-playground-v2-5.hf.space"
    ];

    let step = 0;
    const pattern = [0, 6, 3, 1, 8, 4, 2, 7, 5]; // 1 -> 7 -> 4 logic

    function rotateAndGenerate() {
        const p = document.getElementById('prompt-field').value;
        if(!p) return;

        // Space selection based on your rotation strategy
        const nodeIdx = pattern[step % pattern.length];
        const activeSpace = spaces[nodeIdx];
        
        document.getElementById('node-tag').innerText = `NODE-0${nodeIdx + 1}: CONNECTED`;

        // Direct Space Loading (Embedding the actual space interface)
        // Shorts version (Parameters will be handled inside the space interface by user or via URL query if supported)
        document.getElementById('space-shorts').src = `${activeSpace}/?__theme=dark&prompt=${encodeURIComponent('vertical, 9:16, ' + p)}`;
        
        // Wide version
        document.getElementById('space-wide').src = `${activeSpace}/?__theme=dark&prompt=${encodeURIComponent('wideangle, 16:9, ' + p)}`;

        document.getElementById('script-out').innerHTML = `Executing production at <b>Node ${nodeIdx + 1}</b>. Use the Space controls to finalize your render.`;

        step++; // Move to next node in pattern for next click
    }
</script>
</body>
</html>
