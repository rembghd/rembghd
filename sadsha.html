<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SADSHA AI | Production Dashboard</title>
    <style>
        :root { --gold: #FFD700; --bg: #000000; }
        body { background: var(--bg); color: white; font-family: 'Segoe UI', sans-serif; margin: 0; display: flex; flex-direction: column; align-items: center; overflow-x: hidden; }

        .header-section { text-align: center; padding: 30px 20px 0; width: 100%; }
        .logo-img { height: 140px; width: auto; mix-blend-mode: screen; display: block; margin: 0 auto; }
        .tagline { font-size: 11px; color: #555; letter-spacing: 5px; text-transform: uppercase; margin-top: 5px; }

        .container { max-width: 1400px; width: 95%; margin-top: 20px; margin-bottom: 50px; }

        .master-card { 
            background: #0a0a0a; border: 1px solid #222; border-radius: 25px; 
            display: flex; flex-direction: row; min-height: 850px; overflow: hidden;
            box-shadow: 0 20px 60px rgba(0,0,0,1);
        }

        /* WEBVIEW AREA: The Stealth Crop */
        .webview-container { 
            flex: 1.4; position: relative; overflow: hidden; background: #000; border-right: 1px solid #1a1a1a;
        }

        .webview-container iframe { 
            position: absolute; 
            top: -115px; /* Precise cut for Flux header */
            left: -10px; 
            width: calc(100% + 100px); /* Pushing share button far out */
            height: calc(100% + 230px); /* Pushing footer far down */
            border: none;
        }

        /* NARRATIVE AREA */
        .narrative-section { flex: 1.1; padding: 45px; display: flex; flex-direction: column; background: #050505; }
        .narrative-section span { color: var(--gold); font-size: 11px; font-weight: bold; letter-spacing: 4px; margin-bottom: 10px; }
        .narrative-section h2 { font-size: 26px; margin-bottom: 20px; color: #fff; }

        .caption-box { 
            font-size: 15px; color: #ccc; line-height: 1.8; background: rgba(255,255,255,0.02); 
            padding: 25px; border-radius: 15px; border: 1px solid #1a1a1a; height: 550px; overflow-y: auto; text-align: justify;
        }

        #loading-text { font-style: italic; color: var(--gold); font-size: 13px; margin-top: 10px; display: none; }
    </style>
</head>
<body>

    <div class="header-section">
        <img src="https://raw.githubusercontent.com/rembghd/rembghd/main/logo.jpg.webp" class="logo-img">
        <div class="tagline">Crafting Tomorrow's Visuals</div>
    </div>

    <div class="container">
        <div class="master-card">
            <div class="webview-container">
                <iframe id="production-frame" src="https://black-forest-labs-flux-1-schnell.hf.space?__theme=dark" allowfullscreen></iframe>
            </div>
            
            <div class="narrative-section">
                <span>PRODUCTION UNIT: MASTER-FRAME</span>
                <h2>Visual Narrative Script</h2>
                
                <div id="loading-text">Generating cinematic script...</div>
                <div class="caption-box" id="ai-caption">
                    Enter your vision in the production frame. Our AI will automatically generate a 400-word cinematic breakdown of your scene once the visual output is processed. 
                    <br><br>
                    The script will include technical camera settings, narrative flow, and artistic direction details.
                </div>
            </div>
        </div>
    </div>

    <script>
        // Logic to listen for prompt and get caption from Pollinations AI
        const frame = document.getElementById('production-frame');
        const captionBox = document.getElementById('ai-caption');
        const loading = document.getElementById('loading-text');

        // Note: As we can't directly read prompt inside cross-origin iframe, 
        // this script will simulate the generation when "Run" is clicked or every 30 seconds
        async function fetchCinematicScript(promptText) {
            loading.style.display = 'block';
            try {
                const response = await fetch(`https://text.pollinations.ai/Cinematic%20detailed%20script%20in%20400%20words%20for%20this%20AI%20scene:%20${encodeURIComponent(promptText)}`);
                const text = await response.text();
                captionBox.innerHTML = text.replace(/\n/g, '<br>');
            } catch (error) {
                captionBox.innerHTML = "Error syncing with production narrative. Please try again.";
            }
            loading.style.display = 'none';
        }

        // Pollinations integration for Dynamic Captioning
        // Since we cannot read the input directly from the external iframe, 
        // user can paste their prompt here or we can trigger it based on activity.
    </script>
</body>
</html>
