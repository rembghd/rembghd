<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SADSHA AI | Dashboard</title>
    <style>
        :root { --gold: #FFD700; --bg: #000000; --card: #111111; }
        body { background: var(--bg); color: white; font-family: 'Segoe UI', sans-serif; margin: 0; display: flex; flex-direction: column; align-items: center; }

        /* Branding */
        .header-section { text-align: center; padding: 40px 20px; width: 100%; }
        .logo-img { height: 160px; width: auto; mix-blend-mode: screen; display: block; margin: 0 auto; }
        .tagline { font-size: 13px; color: #555; letter-spacing: 5px; text-transform: uppercase; margin-top: 5px; }

        .container { max-width: 1100px; width: 92%; margin-bottom: 100px; }

        /* Modes */
        .mode-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 15px; margin: 30px 0; }
        .mode-card { background: var(--card); border: 1px solid #222; padding: 25px 10px; border-radius: 12px; text-align: center; cursor: pointer; transition: 0.3s; }
        .mode-card.active { border-color: var(--gold); background: #0c0c02; }
        .mode-card h3 { margin: 0 0 8px; font-size: 16px; }
        .mode-card p { font-size: 10px; color: #666; text-transform: uppercase; }

        /* Input Area */
        .input-box { background: #080808; padding: 25px; border-radius: 15px; border: 1px solid #1a1a1a; }
        textarea { width: 100%; padding: 15px; background: #000; border: 1px solid #333; color: white; border-radius: 10px; font-size: 15px; outline: none; resize: none; margin-bottom: 15px; }
        #story-options { display: none; margin-bottom: 15px; }
        select { background: #000; color: #fff; border: 1px solid #333; padding: 12px; width: 100%; border-radius: 8px; }

        .gen-btn { background: #fff; color: #000; font-weight: 800; padding: 18px; width: 100%; border: none; border-radius: 10px; cursor: pointer; font-size: 16px; text-transform: uppercase; }
        .gen-btn:hover { background: var(--gold); }

        /* Scene Layout with Webview */
        #output-area { margin-top: 40px; width: 100%; display: grid; gap: 25px; }
        .scene-card { background: #0a0a0a; border: 1px solid #222; border-radius: 15px; overflow: hidden; display: flex; flex-direction: row; min-height: 600px; }
        .scene-media { flex: 1.2; background: #000; border-right: 1px solid #1a1a1a; }
        .scene-media iframe { width: 100%; height: 100%; border: none; }
        .scene-info { flex: 1; padding: 30px; display: flex; flex-direction: column; justify-content: center; }
        
        .caption-box { font-size: 14px; color: #ccc; line-height: 1.8; margin-top: 15px; background: #000; padding: 20px; border-radius: 10px; border: 1px solid #1a1a1a; text-align: justify; }

        @media (max-width: 850px) { .scene-card { flex-direction: column; } .scene-media { height: 500px; } }
    </style>
</head>
<body>

    <div class="header-section">
        <img src="https://raw.githubusercontent.com/rembghd/rembghd/main/logo.jpg.webp" class="logo-img">
        <div class="tagline">Crafting Tomorrow's Visuals</div>
    </div>

    <div class="container">
        <div class="mode-grid">
            <div class="mode-card active" id="lite" onclick="setMode('LITE')"><h3>Standard Lite</h3><p>Vertical Scene</p></div>
            <div class="mode-card" id="pro" onclick="setMode('PRO')"><h3>Cinema Pro</h3><p>5-Scene Cluster</p></div>
            <div class="mode-card" id="story" onclick="setMode('STORY')"><h3>Story Master</h3><p>Narrative Kit</p></div>
        </div>

        <div class="input-box">
            <div id="story-options">
                <select id="duration">
                    <option value="3">1 Minute (3 Scenes)</option>
                    <option value="8">3 Minutes (8 Scenes)</option>
                    <option value="15">5 Minutes (15 Scenes)</option>
                </select>
            </div>
            <textarea id="prompt" rows="3" placeholder="Enter your cinematic vision..."></textarea>
            <button class="gen-btn" onclick="startGeneration()">Start Production</button>
        </div>
        <div id="output-area"></div>
    </div>

<script>
    let currentMode = 'LITE';

    // 9 Final Webview URLs from Fix Memory
    const hfWebviews = [
        "https://black-forest-labs-flux-1-schnell.hf.space",
        "https://stabilityai-stable-diffusion-3-5-large.hf.space",
        "https://black-forest-labs-flux-1-dev.hf.space",
        "https://multimodalart-flux-lora-the-explorer.hf.space",
        "https://xl-labs-flux-1-dev-realism-lora.hf.space",
        "https://bytedance-hyper-flux-1-dev-8steps.hf.space",
        "https://gparmar-img2img-turbo-sketch.hf.space",
        "https://radames-real-time-text-to-image-flux-schnell.hf.space",
        "https://playgroundai-playground-v2-5.hf.space"
    ];

    function setMode(m) {
        currentMode = m;
        document.querySelectorAll('.mode-card').forEach(c => c.classList.remove('active'));
        document.getElementById(m.toLowerCase()).classList.add('active');
        document.getElementById('story-options').style.display = (m === 'STORY') ? 'block' : 'none';
    }

    function startGeneration() {
        const promptText = document.getElementById('prompt').value;
        const output = document.getElementById('output-area');
        if (!promptText) return;

        output.innerHTML = `<h3 style="text-align:center; color:var(--gold); width:100%;">SadSha AI: Initializing Webview Clusters...</h3>`;

        let scenes = (currentMode === 'PRO') ? 5 : (currentMode === 'STORY' ? document.getElementById('duration').value : 1);

        setTimeout(() => {
            output.innerHTML = "";
            for (let i = 0; i < scenes; i++) {
                renderWebviewBox(i, promptText);
            }
        }, 1000);
    }

    function getPureCaption(index) {
        return `CINEMATIC ANALYSIS FRAME #${index + 1}: This production scene has been meticulously synthesized to capture the essence of high-end visual storytelling. The composition emphasizes a deep atmospheric perspective, where every element from the foreground textures to the distant lighting is balanced to create a sense of absolute realism. In this frame, the narrative depth is enhanced through professional color grading and a cinematic wide-angle field of view, making it ideal for large-scale production. The interplay between light and shadow here is not merely functional but serves to drive the emotional core of the scene, ensuring that viewers remain fully immersed in the world being created. As part of a larger sequence, this specific visual milestone provides the necessary aesthetic continuity required for 4K cinematic exports. SadSha AI ensures that the intricate details of the requested vision are translated into a professional-grade image that stands at the intersection of technology and art.`;
    }

    function renderWebviewBox(index, text) {
        const area = document.getElementById('output-area');
        const card = document.createElement('div');
        card.className = 'scene-card';
        
        // Load balancing across 9 Webview URLs
        const webviewUrl = hfWebviews[index % hfWebviews.length];

        card.innerHTML = `
            <div class="scene-media">
                <iframe src="${webviewUrl}" allow="accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking" sandbox="allow-forms allow-modals allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-downloads"></iframe>
            </div>
            <div class="scene-info">
                <span style="color:var(--gold); font-size:11px; font-weight:bold; letter-spacing:2px;">SCENE ${index + 1}</span>
                <h2 style="margin:10px 0;">AI Visual Frame</h2>
                <div class="caption-box">${getPureCaption(index)}</div>
            </div>
        `;
        area.appendChild(card);
    }
</script>
</body>
</html>
